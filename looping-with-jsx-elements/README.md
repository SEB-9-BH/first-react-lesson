# ![Building Your First React App - Looping with JSX Elements](./assets/hero.png)

**Learning objective:** By the end of this lesson, students will be able to tktk

## Looping with JSX elements

Since we'll be demonstrating how to loop over JSX elements, we'll need some new data. Below the `todo` object, let's add the following `todos` array: 

```JSX
// src/App.jsx

  const todo = { text: 'A brand new task', done: true };
  // Add the todos array below the existing todo object.
  const todos = [
    {text: 'Learn JavaScript', done: true},
    {text: 'Learn JSX', done: false},
    {text: 'Learn HTML', done: true},
    {text: 'Learn CSS', done: true},
    {text: 'Master React', done: false},
  ];
```

### Transforming arrays into lists of elements

To display a list in JSX, we must transform an array of data into an array of JSX elements - this means that our array iterator methods must return a new array. `map()` is the most common way to do this in JSX, but others, like `filter()`, can also be useful.

> ðŸš¨ `forEach()` is not a useful iterator method when working with JSX, as it does not return anything. 

Using our data above, we can map the `todos` into a new array where each element is transformed into JSX nodes: 

```jsx
// src/App.jsx

const App = () => {
  const todo = { text: 'A brand new task', done: true };
  const todos = [
    {text: 'Learn JavaScript', done: true},
    {text: 'Learn JSX', done: false},
    {text: 'Learn HTML', done: true},
    {text: 'Learn CSS', done: true},
    {text: 'Master React', done: false},
  ];

  return (
    <>
      <h1>JavaScript in JSX</h1>
      <p>{todo.text}</p>

      <h2>Conditional Rendering</h2>
      <p>{todo.done ? 'Task Completed - ' todo.text : todo.text }</p>

      <h2>Looping With JSX</h2>
      <ul>
        {todos.map((element) =>
          <li>{element.text}</li>
        )}
      </ul>
    </>
  );
};

export default App
```

Check the browser! You should see all of the todos in a list! If we check the console, however, we also notice a warning: 

[tktk hunter convert to image asset plzty]
```plaintext
Warning: Each child in a list should have a unique "key" prop.
```

Let's touch on that next: 

### The importance of keys 

React uses keys to help identify which items have been added, removed, or changed in an array. Keys must be given to the elements inside an array - if you forget, React will loudly remind you in the console! Ideally, each key will be a string that uniquely identifies a list item - typically, this would be an ID generated by a database. 

As we are using example data without IDs, we will use the index of each element to simulate a unique key for each list item:

```jsx
{todos.map((element, index) => <li key={index}>{element.text}</li>)}
```

Note that this is not ideal, as the index of an element may change if the order or contents of the array change, which defeats the purpose of a unique key entirely. This is just a temporary solution until we have more robust data. 

## Extracting `map()` from the `return` 

The pattern above may feel familiar to you if you're used to working in a templating tool like EJS or Liquid, as the code is structured more directly. You can see that inside of the `<ul>` there will be `<li>` elements that display the text for an individual `todo`. However, React documentation and many sources on the web will extract the `map()` out of the `return` to make the return more concise and potentially more readable. Here's what that looks like:

```jsx
const App = () => {
  const todo = { text: 'A brand new task', done: true };
  const todos = [
    {text: 'Learn JavaScript', done: true},
    {text: 'Learn JSX', done: false},
    {text: 'Learn HTML', done: true},
    {text: 'Learn CSS', done: true},
    {text: 'Master React', done: false},
  ];

  const todoList = todos.map((element, index) =>
    <li key={index}>{element.text}</li>
  );

  return (
    <>
      <h1>JavaScript in JSX</h1>
      <p>{todo.text}</p>

      <h2>Conditional Rendering</h2>
      <p>{todo.done ? 'Task Completed - ' todo.text : todo.text }</p>

      <h2>Looping With JSX</h2>
      <ul>{todoList}</ul>
    </>
  );
};

export default App
```

Above, we're assigning the result of calling `todos.map()` to a variable called `todoList`. The `todoList` holds an array of `<li>` elements inside of it. We then use the `todoList` inside of the `<ul>` element, exactly where we were calling `todos.map()` before. It is slightly more abstract but makes the `return` out of the `App` component more to the point.

Ultimately you will see both patterns in the wild and you should be able to recognize and write both. Going forward in our content we will be using [tktk which pattern are we going with?] to accomplish this.
